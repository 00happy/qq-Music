(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12595be8"],{"0cb2":function(t,e,c){var n=c("e330"),a=c("7b0b"),i=Math.floor,r=n("".charAt),o=n("".replace),l=n("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,c,n,u,b){var j=c+t.length,O=n.length,v=d;return void 0!==u&&(u=a(u),v=s),o(b,v,(function(a,o){var s;switch(r(o,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,c);case"'":return l(e,j);case"<":s=u[l(o,1,-1)];break;default:var d=+o;if(0===d)return a;if(d>O){var b=i(d/10);return 0===b?a:b<=O?void 0===n[b-1]?r(o,1):n[b-1]+r(o,1):a}s=n[d-1]}return void 0===s?"":s}))}},"4ea3":function(t,e,c){"use strict";c("ac1f"),c("5319");var n=c("7a23"),a=function(t){return Object(n["G"])("data-v-07ef85ed"),t=t(),Object(n["E"])(),t},i={class:"comment-wrapper"},r={class:"comment-item"},o={class:"head"},l=["src"],s={class:"time-wrapper"},d={class:"time"},u={class:"nickName"},b={class:"root-content"},j={class:"score"},O={class:"liked"},v=a((function(){return Object(n["i"])("span",{class:"reply"}," 回复 ",-1)})),m=a((function(){return Object(n["i"])("span",{class:"report"},"举报",-1)})),p={key:0,class:"childComment"};function f(t,e,c,a,f,h){var g=Object(n["K"])("van-icon");return Object(n["D"])(),Object(n["h"])("div",i,[Object(n["i"])("div",r,[Object(n["i"])("div",o,[Object(n["i"])("img",{src:c.commentData.avatarurl,alt:""},null,8,l),Object(n["i"])("div",s,[Object(n["i"])("div",d,Object(n["M"])(c.commentData.nick),1),Object(n["i"])("div",u,Object(n["M"])(new Date(parseInt(c.commentData.time)).toLocaleString().replace("/","年").replace("/","月").replace(" ","日 ")),1),Object(n["i"])("div",b,Object(n["M"])(c.commentData.rootcommentcontent),1),Object(n["i"])("div",j,[Object(n["i"])("span",O,[Object(n["l"])(g,{name:"good-job-o"}),Object(n["k"])(" "+Object(n["M"])(c.commentData.score),1)]),v,m]),c.commentData.middlecommentcontent?(Object(n["D"])(),Object(n["h"])("div",p,[Object(n["i"])("span",null,"查看"+Object(n["M"])(c.commentData.middlecommentcontent.length)+"条回复",1)])):Object(n["g"])("",!0)])])])])}var h={props:{commentData:Object}},g=(c("a410"),c("6b0d")),D=c.n(g);const y=D()(h,[["render",f],["__scopeId","data-v-07ef85ed"]]);e["a"]=y},5319:function(t,e,c){"use strict";var n=c("2ba4"),a=c("c65b"),i=c("e330"),r=c("d784"),o=c("d039"),l=c("825a"),s=c("1626"),d=c("5926"),u=c("50c4"),b=c("577e"),j=c("1d80"),O=c("8aa5"),v=c("dc4a"),m=c("0cb2"),p=c("14c3"),f=c("b622"),h=f("replace"),g=Math.max,D=Math.min,y=i([].concat),k=i([].push),M=i("".indexOf),w=i("".slice),x=function(t){return void 0===t?t:String(t)},$=function(){return"$0"==="a".replace(/./,"$0")}(),C=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),A=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));r("replace",(function(t,e,c){var i=C?"$":"$0";return[function(t,c){var n=j(this),i=void 0==t?void 0:v(t,h);return i?a(i,t,n,c):a(e,b(n),t,c)},function(t,a){var r=l(this),o=b(t);if("string"==typeof a&&-1===M(a,i)&&-1===M(a,"$<")){var j=c(e,r,o,a);if(j.done)return j.value}var v=s(a);v||(a=b(a));var f=r.global;if(f){var h=r.unicode;r.lastIndex=0}var $=[];while(1){var C=p(r,o);if(null===C)break;if(k($,C),!f)break;var A=b(C[0]);""===A&&(r.lastIndex=O(o,u(r.lastIndex),h))}for(var L="",S=0,T=0;T<$.length;T++){C=$[T];for(var I=b(C[0]),_=g(D(d(C.index),o.length),0),J=[],G=1;G<C.length;G++)k(J,x(C[G]));var K=C.groups;if(v){var P=y([I],J,_,o);void 0!==K&&k(P,K);var U=b(n(a,void 0,P))}else U=m(I,o,_,J,K,a);_>=S&&(L+=w(o,S,_)+U,S=_+I.length)}return L+w(o,S)}]}),!A||!$||C)},"8aa5":function(t,e,c){"use strict";var n=c("6547").charAt;t.exports=function(t,e,c){return e+(c?n(t,e).length:1)}},"9d91":function(t,e,c){},a30c:function(t,e,c){"use strict";c("d699")},a410:function(t,e,c){"use strict";c("9d91")},d699:function(t,e,c){},d81d:function(t,e,c){"use strict";var n=c("23e7"),a=c("b727").map,i=c("1dde"),r=i("map");n({target:"Array",proto:!0,forced:!r},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},e75b:function(t,e,c){"use strict";c.r(e);c("ac1f"),c("5319"),c("b0c0"),c("b680"),c("4d90");var n=c("7a23"),a=function(t){return Object(n["G"])("data-v-42bf5cd6"),t=t(),Object(n["E"])(),t},i={class:"video-wrapper"},r={class:"videoPage"},o={class:"head"},l=a((function(){return Object(n["i"])("h1",null,"视频详情",-1)})),s=["src"],d={key:0,class:"detail"},u={class:"author-wrapper"},b={class:"author"},j=["src"],O={key:0,class:"name"},v=Object(n["k"])("关注"),m=Object(n["k"])("取消关注"),p={class:"title"},f={class:"publish"},h={style:{"margin-left":"20px"}},g={class:"tag"},D=Object(n["k"])(" 标签: "),y={class:"comment"},k=a((function(){return Object(n["i"])("p",null,"精彩评论",-1)})),M={class:"songList-wrapper"},w=a((function(){return Object(n["i"])("span",{style:{"margin-left":"8px"}},"相关推荐",-1)})),x={class:"song-list"},$=["onClick"],C={class:"top"},A=["src"],L={key:0,class:"listenCount"},S=a((function(){return Object(n["i"])("i",{class:"bi bi-play"},null,-1)})),T={key:0},I={key:1},_={class:"playTime"},J={class:"bottom"},G={class:"title"},K={key:0};function P(t,e,c,a,P,U){var q=Object(n["K"])("van-button"),N=Object(n["K"])("Comment"),E=Object(n["K"])("van-divider");return Object(n["D"])(),Object(n["h"])("div",i,[Object(n["i"])("div",r,[Object(n["i"])("div",o,[l,t.url.length?(Object(n["D"])(),Object(n["h"])("video",{key:0,src:t.url,class:"video",controls:""},null,8,s)):Object(n["g"])("",!0)]),t.videoDetail?(Object(n["D"])(),Object(n["h"])("div",d,[Object(n["i"])("div",u,[Object(n["i"])("div",b,[Object(n["i"])("img",{src:t.videoDetail.avatarUrl,alt:""},null,8,j),t.videoDetail.creator?(Object(n["D"])(),Object(n["h"])("span",O,Object(n["M"])(t.videoDetail.creator.nickname),1)):Object(n["g"])("",!0)]),t.isAttention?(Object(n["D"])(),Object(n["f"])(q,{key:1,round:"",type:"primary",icon:"add",color:"#1ed2a8",onClick:a.attention},{default:Object(n["S"])((function(){return[m]})),_:1},8,["onClick"])):(Object(n["D"])(),Object(n["f"])(q,{key:0,round:"",type:"primary",icon:"add",color:"#1ed2a8",onClick:a.attention},{default:Object(n["S"])((function(){return[v]})),_:1},8,["onClick"]))]),Object(n["i"])("p",p,Object(n["M"])(t.videoDetail.title),1),Object(n["i"])("div",f,[Object(n["i"])("span",null,"发布:"+Object(n["M"])(new Date(parseInt(t.videoDetail.publishTime)).toLocaleString().replace(/:\d{1,2}$/," ")),1),Object(n["i"])("span",h,"播放量:"+Object(n["M"])(t.videoDetail.playTime>1e4?Math.ceil(t.videoDetail.playTime/1e4)+"万":t.videoDetail.playTime),1)]),Object(n["i"])("div",g,[Object(n["i"])("p",null,[D,(Object(n["D"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(t.videoDetail.videoGroup,(function(e,c){return Object(n["D"])(),Object(n["h"])("span",{style:{color:"#5091ca"},key:c,class:"spTags"},Object(n["M"])(c==t.videoDetail.videoGroup.length-1?e.name:e.name+"/"),1)})),128))])]),Object(n["i"])("div",y,[k,(Object(n["D"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(t.commentlist,(function(t){return Object(n["D"])(),Object(n["h"])("div",{class:"comment-item",key:t},[Object(n["l"])(N,{commentData:t},null,8,["commentData"]),Object(n["l"])(E,{style:{borderColor:"#969799",padding:"0 19px"}})])})),128))])])):Object(n["g"])("",!0)]),Object(n["i"])("div",M,[w,Object(n["i"])("div",x,[(Object(n["D"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(t.videoList,(function(t){return Object(n["D"])(),Object(n["h"])("div",{class:"song-item",key:t,onClick:function(e){return a.toPlayList(t.vid)}},[Object(n["i"])("div",C,[Object(n["i"])("img",{src:t.coverUrl,alt:""},null,8,A),t.coverUrl?(Object(n["D"])(),Object(n["h"])("div",L,[S,t.playTime/1e4>1e4?(Object(n["D"])(),Object(n["h"])("span",T,Object(n["M"])((t.playTime/1e8).toFixed(1))+"亿",1)):(Object(n["D"])(),Object(n["h"])("span",I,Object(n["M"])((t.playTime/1e4).toFixed(1))+"万",1))])):Object(n["g"])("",!0),Object(n["i"])("div",_,Object(n["M"])(String(new Date(t.durationms).getMinutes()).padStart(2,"0")+":"+String(new Date(t.durationms).getSeconds()).padStart(2,"0")),1)]),Object(n["i"])("div",J,[Object(n["i"])("div",G,Object(n["M"])(t.title),1),t.creator?(Object(n["D"])(),Object(n["h"])("span",K,"by "+Object(n["M"])(t.creator[0].userName),1)):Object(n["g"])("",!0)])],8,$)})),128))])])])}var U=c("5530"),q=(c("e7e5"),c("d399")),N=(c("d81d"),c("6c02")),E=c("bc3a"),F=c.n(E),H=c("4ea3"),R={components:{Comment:H["a"]},setup:function(){var t=Object(n["H"])({url:"",id:"",isAttention:!1,videoDetail:{},recommendList:[],commentlist:[],videoList:[]});Object(n["R"])((function(){return t.url}),(function(e){console.log(e),t.url=e}));var e=Object(N["c"])(),c=Object(N["d"])(),a=function(){t.isAttention=!t.isAttention,t.isAttention?Object(q["a"])("成功关注"):Object(q["a"])("取消关注")},i=function(t){r(t),c.push({name:"videoPage",query:{id:t}})},r=function(e){F()({url:"/mini/video/url?id=".concat(e)}).then((function(e){200==e.data.code&&(t.url=e.data.urls[0].url)})),F()({url:"/mini/video/detail?id=".concat(e)}).then((function(e){200==e.data.code&&(t.videoDetail=e.data.data)})),F()({url:"/mini/comment/video?id=".concat(e)}).then((function(e){200==e.data.code&&(t.commentlist=e.data.hotComments.map((function(t){return t.avatarurl=t.user.avatarUrl,t.nick=t.user.nickname,t.rootcommentcontent=t.content,t.score=t.likedCount,t})))})),F()({url:"/mini/related/allvideo?id=".concat(e)}).then((function(e){t.videoList=e.data.data,console.log(t.videoList)}))};return Object(n["A"])((function(){t.id=e.query.id,r(t.id)})),Object(U["a"])(Object(U["a"])({},Object(n["N"])(t)),{},{attention:a,toPlayList:i,reqApi:r})}},z=(c("a30c"),c("6b0d")),B=c.n(z);const Q=B()(R,[["render",P],["__scopeId","data-v-42bf5cd6"]]);e["default"]=Q}}]);
//# sourceMappingURL=chunk-12595be8.35b0f0d5.js.map