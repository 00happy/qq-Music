{"version":3,"sources":["webpack:///./src/views/Latest.vue","webpack:///./src/views/Latest.vue?e655","webpack:///./src/views/Latest.vue?bdaf"],"names":["class","_createElementVNode","style","_ctx","_createElementBlock","onClick","$setup","_createVNode","_component_van_empty","description","_component_van_button","round","type","_hoisted_5","_Fragment","_renderList","item","index","key","_toDisplayString","String","padStart","_component_van_icon","name","songName","_hoisted_9","_hoisted_10","_hoisted_11","author","albumName","_createBlock","setup","props","ctx","state","reactive","list","videoList","show","activeIndex","id","playerRef","ref","store","useStore","switchBar","router","useRouter","goto","push","path","playSong","e","commit","emit","onMounted","latestList","profile","userId","axios","url","then","res","status","data","videos","console","log","toRefs","emits","__exports__","render"],"mappings":"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","file":"js/chunk-4809f297.0b24f115.js","sourcesContent":["<template>\r\n  <div class=\"body\" v-if=\"id\">\r\n    <div class=\"body-top\">\r\n      <div class=\"text\">\r\n        <span class=\"text1\" @click=\"switchBar\" :class=\"show ? 'ml' : ''\"\r\n          >歌曲</span\r\n        >\r\n        <span class=\"text2\" @click=\"switchBar\" :class=\"show ? '' : 'ml'\"\r\n          >视频</span\r\n        >\r\n        <!-- <span class=\"text3 ml\">收藏者</span> -->\r\n      </div>\r\n    </div>\r\n    <div class=\"list\" v-if=\"!show\">\r\n      <div class=\"list-top\">\r\n        <div class=\"top-item operator\">操作</div>\r\n        <div class=\"top-item title\">歌曲</div>\r\n        <div class=\"top-item singer\">歌手</div>\r\n        <div class=\"top-item cd\">专辑</div>\r\n      </div>\r\n      <div\r\n        class=\"list-top sing\"\r\n        v-for=\"(item, index) in list\"\r\n        :key=\"index\"\r\n        :class=\"index == activeIndex ? 'active' : ''\"\r\n        @click=\"playSong(item,index)\"\r\n      >\r\n        <div class=\"top-item operator\">\r\n          <span>{{ String(index + 1).padStart(2, \"0\") }}</span>\r\n          <van-icon name=\"like-o\" />\r\n          <van-icon name=\"down\" />\r\n        </div>\r\n        <div class=\"top-item title\">\r\n          {{ item.songName }}\r\n          <span class=\"addition\" style=\"color: #07c160\"> VIP</span>\r\n          <span class=\"addition\" style=\"color: #ff976a\"> SQ</span>\r\n          <span> <i class=\"iconfont icon-mv\"></i></span>\r\n        </div>\r\n        <div class=\"top-item singer\">\r\n          <span>{{ item.author }}</span>\r\n        </div>\r\n        <div class=\"top-item cd\">{{ item.albumName }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noData\" v-else>\r\n      <van-empty description=\"还没有本地歌曲\">\r\n        <van-button round type=\"default\" class=\"bottom-button\" @click=\"goto\"\r\n          >去音乐馆逛逛</van-button\r\n        >\r\n      </van-empty>\r\n    </div>\r\n  </div>\r\n  <van-empty description=\"请先登录\" class=\"empty\" v-else>\r\n    <van-button round type=\"default\" class=\"bottom-button\" @click=\"goto\"\r\n      >去音乐馆逛逛</van-button\r\n    >\r\n  </van-empty>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, reactive, toRefs, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from 'axios';\r\nimport { Toast } from 'vant';\r\nexport default {\r\n  setup(props,ctx) {\r\n    const state = reactive({\r\n      list: [],\r\n      videoList:[],\r\n      show: false,\r\n      activeIndex: -1,\r\n      id:''\r\n    });\r\n    const playerRef = ref(null);\r\n    const store = useStore();\r\n    const switchBar = () => {\r\n      state.show = !state.show;\r\n    };\r\n    const router = useRouter();\r\n    const goto = () => {\r\n      router.push({ path: \"/home\" });\r\n    };\r\n    const playSong = (e,index) => {\r\n      store.commit('setPlayList',e)\r\n      state.activeIndex = index;\r\n      ctx.emit('playSong',true)\r\n    };\r\n    onMounted(() => {\r\n      state.list = store.state.latestList;\r\n      const id = store.state.profile?store.state.profile.userId:-1\r\n      state.id = id\r\n      if(!id){\r\n        Toast('还未登录')\r\n        return\r\n      }\r\n      axios({\r\n        url:`/mini/playlist/video/recent`\r\n      }).then(res=>{\r\n        if(res.status==200){\r\n          state.videoList = res.data.data.videos\r\n          console.log(res.data.data.videos);\r\n        }else{\r\n          Toast('出了点小问题')\r\n          return\r\n        }\r\n        \r\n      })\r\n    });\r\n    return {\r\n      ...toRefs(state),\r\n      switchBar,\r\n      goto,\r\n      playSong,\r\n      playerRef,\r\n    };\r\n  },\r\n  emits:['playSong']\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.body {\r\n  .body-top {\r\n    display: flex;\r\n    font-size: 15px;\r\n    justify-content: space-between;\r\n    margin: 20px 30px;\r\n    .text {\r\n      font-size: 18px;\r\n      font-weight: bold;\r\n      cursor: pointer;\r\n      .text1 {\r\n      }\r\n      .text2 {\r\n        margin-left: 30px;\r\n      }\r\n      .ml {\r\n        font-size: 15px;\r\n        font-weight: normal;\r\n      }\r\n    }\r\n  }\r\n  .list {\r\n    .list-top {\r\n      display: flex;\r\n      // justify-content: space-around;\r\n      color: #969799;\r\n      font-size: 14px;\r\n      margin: 0 16px;\r\n      .top-item {\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        height: 50px;\r\n        line-height: 50px;\r\n      }\r\n      .top-item:hover {\r\n        background-color: #dcdee0;\r\n      }\r\n      .operator {\r\n        text-align: end;\r\n        width: 130px;\r\n        margin-right: 14px;\r\n      }\r\n      .title {\r\n        width: 400px;\r\n        height: 50px;\r\n        line-height: 50px;\r\n        display: flex;\r\n        .addition {\r\n          display: block;\r\n          height: 15px;\r\n          font-size: 10px;\r\n          line-height: 15px;\r\n          margin-left: 8px;\r\n          margin-top: 17px;\r\n          border: 1px solid;\r\n          padding: 0 3px;\r\n          box-sizing: border-box;\r\n        }\r\n        .icon-mv {\r\n          display: block;\r\n          margin-left: 8px;\r\n        }\r\n      }\r\n      .singer {\r\n        width: 200px;\r\n      }\r\n      .cd {\r\n        width: 256px;\r\n      }\r\n      .time {\r\n        width: 160px;\r\n      }\r\n    }\r\n    .sing {\r\n      color: #111;\r\n      cursor: pointer;\r\n      .operator {\r\n        color: #afb0b0;\r\n        i {\r\n          font-size: 20px;\r\n          margin: 0 8px;\r\n        }\r\n      }\r\n    }\r\n    .active {\r\n      color: #1ed2a9;\r\n    }\r\n    .sing:nth-child(2n) {\r\n      background-color: #f0f1f2;\r\n    }\r\n    .sing:hover {\r\n      background-color: #dcdee0;\r\n    }\r\n  }\r\n  .noData{\r\n    margin: 50px 347px\r\n  }\r\n  .comment {\r\n    padding: 31px;\r\n    background-color: #f7f8fa;\r\n    p {\r\n      margin-top: 15px;\r\n    }\r\n    .comment-item {\r\n      margin-left: -20px;\r\n    }\r\n  }\r\n}\r\n.empty{\r\n  margin: 50px 347px\r\n}\r\n</style>","import { render } from \"./Latest.vue?vue&type=template&id=48a2011c&scoped=true\"\nimport script from \"./Latest.vue?vue&type=script&lang=js\"\nexport * from \"./Latest.vue?vue&type=script&lang=js\"\n\nimport \"./Latest.vue?vue&type=style&index=0&id=48a2011c&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\lesson-yy\\\\VUE3\\\\qq-Music\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-48a2011c\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Latest.vue?vue&type=style&index=0&id=48a2011c&lang=less&scoped=true\""],"sourceRoot":""}