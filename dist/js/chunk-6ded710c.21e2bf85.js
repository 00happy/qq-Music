(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ded710c"],{"99af":function(t,e,n){"use strict";var c=n("23e7"),o=n("da84"),a=n("d039"),i=n("e8b5"),r=n("861d"),u=n("7b0b"),s=n("07fa"),l=n("8418"),d=n("65f0"),f=n("1dde"),p=n("b622"),b=n("2d00"),j=p("isConcatSpreadable"),O=9007199254740991,h="Maximum allowed index exceeded",v=o.TypeError,m=b>=51||!a((function(){var t=[];return t[j]=!1,t.concat()[0]!==t})),w=f("concat"),g=function(t){if(!r(t))return!1;var e=t[j];return void 0!==e?!!e:i(t)},y=!m||!w;c({target:"Array",proto:!0,forced:y},{concat:function(t){var e,n,c,o,a,i=u(this),r=d(i,0),f=0;for(e=-1,c=arguments.length;e<c;e++)if(a=-1===e?i:arguments[e],g(a)){if(o=s(a),f+o>O)throw v(h);for(n=0;n<o;n++,f++)n in a&&l(r,f,a[n])}else{if(f>=O)throw v(h);l(r,f++,a)}return r.length=f,r}})},"9fc7":function(t,e,n){},a55b:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),o=n("e890"),a=n.n(o),i=function(t){return Object(c["G"])("data-v-9d1e2ad4"),t=t(),Object(c["E"])(),t},r={class:"Login"},u=i((function(){return Object(c["i"])("div",{class:"left"},[Object(c["i"])("img",{src:a.a,alt:""})],-1)})),s={class:"right"},l={class:"input-wrapper"},d=i((function(){return Object(c["i"])("p",{class:"title"},"账号登录",-1)})),f={key:1,class:"verify"};function p(t,e,n,o,a,i){var p=Object(c["K"])("van-notice-bar"),b=Object(c["K"])("van-count-down");return Object(c["D"])(),Object(c["h"])("div",r,[u,Object(c["i"])("div",s,[Object(c["i"])("div",l,[Object(c["l"])(p,{scrollable:"",text:"请登录网易云账号",class:"notice-bar",color:"#1989fa",background:"#ecf9ff","left-icon":"info-o"}),d,Object(c["T"])(Object(c["i"])("input",{type:"text",placeholder:"手机号","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.username=t})},null,512),[[c["P"],o.username]]),t.passwordType?Object(c["T"])((Object(c["D"])(),Object(c["h"])("input",{key:0,type:"password",placeholder:"密码","onUpdate:modelValue":e[1]||(e[1]=function(t){return o.password=t})},null,512)),[[c["P"],o.password]]):(Object(c["D"])(),Object(c["h"])("div",f,[Object(c["T"])(Object(c["i"])("input",{type:"text",placeholder:"验证码","onUpdate:modelValue":e[2]||(e[2]=function(t){return o.verify=t})},null,512),[[c["P"],o.verify]]),Object(c["i"])("button",{onClick:e[3]||(e[3]=function(){return o.sendMsg&&o.sendMsg.apply(o,arguments)})},[Object(c["k"])(Object(c["M"])(t.msg)+" ",1),Object(c["T"])(Object(c["l"])(b,{ref:"countDown",time:t.time,format:"ss 秒","auto-start":!1,onFinish:o.onFinish},null,8,["time","onFinish"]),[[c["Q"],!t.msg]])])])),t.passwordType?(Object(c["D"])(),Object(c["h"])("p",{key:2,class:"switch",onClick:e[4]||(e[4]=function(){return o.onSwitch&&o.onSwitch.apply(o,arguments)})},"短信登录")):(Object(c["D"])(),Object(c["h"])("p",{key:3,class:"switch",onClick:e[5]||(e[5]=function(){return o.onSwitch&&o.onSwitch.apply(o,arguments)})},"密码登录")),Object(c["i"])("button",{class:"active",onClick:e[6]||(e[6]=function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)})},"登录"),Object(c["i"])("button",{onClick:e[7]||(e[7]=function(){return o.goto&&o.goto.apply(o,arguments)})},"注册")])])])}var b=n("5530"),j=(n("e7e5"),n("d399")),O=(n("99af"),n("6c02")),h=n("bc3a"),v=n.n(h),m=n("fa7d"),w=n("5502"),g={components:{},setup:function(){var t=Object(c["H"])({msg:"发送验证码",passwordType:!0,msgVerify:"",time:6e4}),e=Object(c["I"])(null),n=Object(O["d"])(),o=Object(c["I"])(null),a=Object(c["I"])(null),i=Object(c["I"])(null),r=Object(w["b"])(),u=function(){t.passwordType=!t.passwordType},s=function(){t.passwordType?v()({url:"/mini/login/cellphone?phone=".concat(o.value,"&password=").concat(a.value),withCredentials:!0}).then((function(t){console.log(t),200==t.data.code?t.data.cookie&&(Object(m["a"])("cookie",t.data.cookie),r.commit("setProfile",t.data.profile),Object(j["a"])("已成功登陆"),setTimeout((function(){n.push({path:"/"})}),1e3)):j["a"].fail(t.data.msg||"请输入正确的手机号")})).catch((function(t){console.log(t)})):v()({url:"/mini/captcha/verify?phone=".concat(o.value,"&captcha=").concat(i.value),withCredentials:!0}).then((function(t){if(200!=t.data.code)return 503==t.data.code?void Object(j["a"])("验证码错误"):void Object(j["a"])("手机号不符合规范");Object(j["a"])("已成功登陆"),Object(m["a"])("cookie",t.data.cookie),r.commit("setProfile",t.data.profile),setTimeout((function(){n.push({path:"/"})}),1e3),console.log(t)}))},l=function(){v()({url:"/mini/captcha/sent?phone=".concat(o.value),withCredentials:!0}).then((function(t){console.log(t)}))},d=function(){o.value?(t.msg="",e.value.start(),Object(m["b"])(l,1e3)()):j["a"].fail("请输入正确的手机号")},f=function(){t.msg="发送验证码",e.value.reset()},p=function(){n.push({path:"/register"})};return Object(b["a"])(Object(b["a"])({goto:p,username:o,password:a,verify:i,onSubmit:s,onSwitch:u,sendMsg:d},Object(c["N"])(t)),{},{onFinish:f,func:l,countDown:e})}},y=(n("f290"),n("6b0d")),k=n.n(y);const T=k()(g,[["render",p],["__scopeId","data-v-9d1e2ad4"]]);e["default"]=T},e890:function(t,e,n){t.exports=n.p+"img/loginBg.c4e4e025.png"},f290:function(t,e,n){"use strict";n("9fc7")},fa7d:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return o}));var c=function(t,e){localStorage.setItem(t,e)},o=function(t,e){var n=0;return console.log("节流开始"),function(){var c=Date.now(),o=this,a=arguments;c-n>e&&(t.apply(o,a),n=c)}}}}]);
//# sourceMappingURL=chunk-6ded710c.21e2bf85.js.map