{"version":3,"sources":["webpack:///./src/views/category.vue","webpack:///./src/views/category.vue?de2b","webpack:///./src/views/category.vue?d1d9"],"names":["class","_createElementVNode","src","style","_createElementBlock","_hoisted_2","_hoisted_3","_createVNode","_component_van_button","round","hairline","type","_hoisted_6","_hoisted_7","_hoisted_8","_component_van_popover","show","_ctx","$event","actions","$setup","onSelect","reference","_component_van_icon","name","_hoisted_12","_component_van_divider","_Fragment","_renderList","item","index","key","categoryGroupName","_toDisplayString","items","list","categoryId","onClick","categoryName","_hoisted_16","_hoisted_17","id","dissid","imgurl","alt","listennum","_hoisted_24","toFixed","_hoisted_25","dissname","creator","setup","state","reactive","categories","iconList","selectedType","showPopover","songList","text","router","useRouter","toPlayList","push","path","query","chooseType","requestApi","action","axios","url","then","res","console","log","data","response","onMounted","toRefs","__exports__","render"],"mappings":"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","file":"js/chunk-8dfa16fc.672844ee.js","sourcesContent":["<template>\r\n  <div class=\"category\">\r\n    <div class=\"head\"></div>\r\n    <div class=\"left\">\r\n      <img\r\n        src=\"http://p3.music.126.net/lOdqEbPagBUGf547BjmCMQ==/109951164840594920.jpg?param=200y200\"\r\n        class=\"headPic\"\r\n      />\r\n    </div>\r\n    <div class=\"right\">\r\n      <van-button round hairline type=\"primary\" class=\"headTag\"\r\n        >精品歌单</van-button\r\n      >\r\n      <div class=\"title\">美学电影｜画语人生，艺术的自我修养</div>\r\n      <div class=\"desc\">一抹颜色 ，便是万千世界</div>\r\n    </div>\r\n    <div class=\"head-space\" style=\"height: 100px\"></div>\r\n    <div class=\"typeBar\">\r\n      <div class=\"typeBut\">\r\n        <van-popover\r\n          v-model:show=\"showPopover\"\r\n          :actions=\"actions\"\r\n          @select=\"onSelect\"\r\n          class=\"popover\"\r\n        >\r\n          <template #reference>\r\n            <van-button class=\"typeButton\" round\r\n              >{{ selectedType }}<van-icon name=\"arrow\"\r\n            /></van-button>\r\n          </template>\r\n          <div class=\"popWrapper\">\r\n            <div class=\"head\">全部歌单</div>\r\n            <van-divider />\r\n            <div class=\"sort-wrap\">\r\n              <div\r\n                class=\"sort-item\"\r\n                v-for=\"(item, index) in categories\"\r\n                :key=\"item.categoryGroupName\"\r\n              >\r\n                <div class=\"left\">\r\n                  <van-icon :name=\"iconList[index]\" class=\"icon\" />\r\n                  {{ item.categoryGroupName }}\r\n                </div>\r\n                <div class=\"right\">\r\n                  <ul>\r\n                    <li\r\n                      v-for=\"list in item.items\"\r\n                      :key=\"list.categoryId\"\r\n                      @click=\"chooseType(list)\"\r\n                    >\r\n                      {{ list.categoryName }}\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </van-popover>\r\n      </div>\r\n      <div class=\"typeList\"></div>\r\n    </div>\r\n    <div class=\"songList-wrapper\">\r\n      <div class=\"song-list\">\r\n        <div class=\"song-item\" v-for=\"item in songList\" :key=\"item.id\" @click=\"toPlayList(item.dissid)\">\r\n          <div class=\"top\">\r\n            <img :src=\"item.imgurl\" alt=\"\" />\r\n            <div class=\"listenCount\" v-if=\"item.imgurl\">\r\n              <van-icon name=\"audio\" />\r\n              <span v-if=\"(item.listennum / 10000)>10000\">{{ (item.listennum / 100000000).toFixed(1) }}亿</span>\r\n              <span v-else>{{ (item.listennum / 10000).toFixed(1) }}万</span>\r\n              \r\n            </div>\r\n\r\n            <van-icon name=\"play-circle\" class=\"bofang\" />\r\n          </div>\r\n          <div class=\"bottom\">\r\n            <div class=\"title\">{{ item.dissname }}</div>\r\n            <span>{{ item.creator.name }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, reactive, toRefs } from \"vue\";\r\nimport { Toast } from \"vant\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  setup() {\r\n    const state = reactive({\r\n      categories: [],\r\n      iconList: [\r\n        \"fire-o\",\r\n        \"smile-comment-o\",\r\n        \"cluster-o\",\r\n        \"apps-o\",\r\n        \"smile-o\",\r\n        \"notes-o\",\r\n      ],\r\n      selectedType: \"全部\",\r\n      showPopover: false,\r\n      songList: [],\r\n    });\r\n    // 通过 actions 属性来定义菜单选项\r\n    const actions = [\r\n      { text: \"选项一\" },\r\n      { text: \"选项二\" },\r\n      { text: \"选项三\" },\r\n    ];\r\n    const router = useRouter()\r\n    const toPlayList = (id)=>{\r\n      router.push({ path: \"/playList\", query: { id: id } });\r\n    }\r\n    const chooseType = (item) => {\r\n      state.showPopover = !state.showPopover;\r\n      state.selectedType = item.categoryName;\r\n      requestApi(item.categoryId);\r\n    };\r\n    const onSelect = (action) => Toast(action.text);\r\n    const requestApi = (id) => {\r\n      axios({\r\n        url: `/api/getSongLists?categoryId=${id}`,\r\n      }).then((res) => {\r\n        console.log(res);\r\n        // console.log(res.data.response.data.categories);\r\n        state.songList = res.data.response.data.list;\r\n      });\r\n    };\r\n    onMounted(() => {\r\n      axios({\r\n        url: \"/api/getSongListCategories\",\r\n      }).then((res) => {\r\n        console.log(res.data.response.data.categories);\r\n        state.categories = res.data.response.data.categories;\r\n      });\r\n      requestApi(10000000);\r\n    });\r\n    return {\r\n      actions,\r\n      onSelect,\r\n      requestApi,\r\n      chooseType,\r\n      toPlayList,\r\n      ...toRefs(state),\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.category {\r\n  margin-top: 60px;\r\n  padding: 20px;\r\n  position: relative;\r\n  .head {\r\n    width: 889px;\r\n    height: 147px;\r\n    overflow: hidden;\r\n    background: url(\"http://p3.music.126.net/lOdqEbPagBUGf547BjmCMQ==/109951164840594920.jpg?param=200y200\")\r\n      no-repeat;\r\n    background-size: 1000px 1000px;\r\n    filter: blur(50px);\r\n  }\r\n  .left {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n  }\r\n  .right {\r\n    position: absolute;\r\n    left: 234px;\r\n    top: 9px;\r\n    .headTag {\r\n      color: #e7aa5a;\r\n      border: #e7aa5a;\r\n      background: transparent;\r\n      margin-top: 15px;\r\n    }\r\n    .title {\r\n      color: #fff;\r\n      font-size: 18px;\r\n      margin-top: 15px;\r\n    }\r\n    .desc {\r\n      color: #d5d5d5;\r\n      font-size: 14px;\r\n      margin-top: 15px;\r\n    }\r\n  }\r\n  .typeBar {\r\n    margin-left: -20px;\r\n    .typeBut {\r\n      .typeButton {\r\n        padding-left: 18px;\r\n        height: 37px;\r\n        color: #111;\r\n        background-color: #fff;\r\n      }\r\n    }\r\n  }\r\n  .songList-wrapper {\r\n    width: 1040px;\r\n    margin-top: 20px;\r\n    margin-left: -30px;\r\n    .song-list {\r\n      display: flex;\r\n      width: 100%;\r\n      flex-wrap: wrap;\r\n      .song-item {\r\n        cursor: pointer;\r\n        margin: 10px;\r\n        width: 20%;\r\n        background-color: #f2f2f2;\r\n        border-radius: 10px;\r\n        .top {\r\n          position: relative;\r\n          img {\r\n            width: 206px;\r\n            border-radius: 10px;\r\n          }\r\n          .listenCount {\r\n            position: absolute;\r\n            left: 109px;\r\n            bottom: 21px;\r\n            background: #111;\r\n            color: #fff;\r\n            width: 81px;\r\n            height: 26px;\r\n            line-height: 26px;\r\n            text-align: center;\r\n            font-size: 14px;\r\n            border-radius: 10px;\r\n          }\r\n          .bofang {\r\n            position: absolute;\r\n            font-size: 90px;\r\n            position: absolute;\r\n            left: 57px;\r\n            top: 50px;\r\n            display: none;\r\n            color: #ffffff;\r\n          }\r\n          .bofang:hover {\r\n            color: #1ecfa3;\r\n          }\r\n        }\r\n        .bottom {\r\n          padding: 20px;\r\n          .title {\r\n            font-size: 20px;\r\n            font-weight: bold;\r\n          }\r\n        }\r\n      }\r\n      .song-item:hover {\r\n        transform: translateY(-12px);\r\n        transition: 0.4s;\r\n        .bofang {\r\n          display: block;\r\n        }\r\n        .listenCount {\r\n          display: none;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.van-popup {\r\n  background-color: red;\r\n  z-index: 2005;\r\n  position: absolute;\r\n  left: 297px !important;\r\n  width: 950px;\r\n  top: 565px;\r\n  margin: 0px;\r\n  .popWrapper {\r\n    position: absolute;\r\n    width: 950px;\r\n    left: -39px;\r\n    background-color: #fff;\r\n    border: 1px solid #d5d5d5;\r\n    z-index: 10;\r\n    box-shadow: 0px 8px 18px #c8c9cc;\r\n    .head {\r\n      height: 5px;\r\n      padding: 20px;\r\n    }\r\n    .sort-wrap {\r\n      padding: 20px;\r\n      .sort-item {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        align-items: flex-start;\r\n        .left {\r\n          width: 15%;\r\n          padding-top: 10px;\r\n          color: #969799;\r\n          .icon {\r\n            font-size: 30px;\r\n            color: #111;\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n        .right {\r\n          width: 80%;\r\n          ul {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            li {\r\n              width: 15%;\r\n              height: 45px;\r\n              line-height: 45px;\r\n              cursor: pointer;\r\n            }\r\n            li:hover {\r\n              color: #1ecd9b;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./category.vue?vue&type=template&id=05b7a7c6&scoped=true\"\nimport script from \"./category.vue?vue&type=script&lang=js\"\nexport * from \"./category.vue?vue&type=script&lang=js\"\n\nimport \"./category.vue?vue&type=style&index=0&id=05b7a7c6&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\lesson-yy\\\\VUE3\\\\qq-Music\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-05b7a7c6\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./category.vue?vue&type=style&index=0&id=05b7a7c6&lang=less&scoped=true\""],"sourceRoot":""}