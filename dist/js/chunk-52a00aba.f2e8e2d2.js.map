{"version":3,"sources":["webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?1da2","webpack:///./src/views/Register.vue?5106","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/assets/loginBg.png","webpack:///./src/utils/utils.js"],"names":["class","_createElementVNode","src","_imports_0","alt","_createElementBlock","_hoisted_2","_createVNode","_component_van_notice_bar","left-icon","scrollable","_component_van_swipe","vertical","autoplay","show-indicators","_component_van_swipe_item","_hoisted_8","type","placeholder","$setup","$event","onClick","_ctx","_component_van_count_down","ref","time","format","auto-start","onFinish","setup","state","reactive","msg","passwordType","msgVerify","countDown","router","useRouter","username","password","verify","nickname","onSwitch","onSubmit","axios","url","value","withCredentials","then","res","data","code","setTimeout","push","path","console","log","func","sendMsg","start","throttle","fail","reset","goto","toRefs","__exports__","render","$","global","fails","isArray","isObject","toObject","lengthOfArrayLike","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","TypeError","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","this","A","n","arguments","module","exports","setLocal","name","localStorage","setItem","wait","previous","now","Date","context","args","apply"],"mappings":"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","file":"js/chunk-52a00aba.f2e8e2d2.js","sourcesContent":["<template>\r\n  <div class=\"Login\">\r\n    <div class=\"left\">\r\n      <img src=\"@/assets/loginBg.png\" alt=\"\" />\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"input-wrapper\">\r\n        <van-notice-bar\r\n          left-icon=\"volume-o\"\r\n          :scrollable=\"false\"\r\n          class=\"notice-bar\"\r\n        >\r\n          <van-swipe\r\n            vertical\r\n            class=\"notice-swipe\"\r\n            :autoplay=\"3000\"\r\n            :show-indicators=\"false\"\r\n          >\r\n            <van-swipe-item>茕茕白兔，东走西顾，衣不如新，人不如故</van-swipe-item>\r\n            <van-swipe-item>光阴似箭催人老，日月如移越少年</van-swipe-item>\r\n            <van-swipe-item>你是无意穿堂风，却偏偏引山洪</van-swipe-item>\r\n          </van-swipe>\r\n        </van-notice-bar>\r\n        <p class=\"title\">账号注册</p>\r\n        <input type=\"text\" placeholder=\"手机号\" v-model=\"username\" />\r\n        <input type=\"text\" placeholder=\"昵称\" v-model=\"nickname\" />\r\n        <input type=\"text\" placeholder=\"密码\" v-model=\"password\" />\r\n        <div class=\"verify\">\r\n          <input type=\"text\" placeholder=\"验证码\" v-model=\"verify\" />\r\n          <button @click=\"sendMsg\">\r\n            {{ msg }}\r\n            <van-count-down\r\n              ref=\"countDown\"\r\n              :time=\"time\"\r\n              format=\"ss 秒\"\r\n              :auto-start=\"false\"\r\n              @finish=\"onFinish\"\r\n              v-show=\"!msg\"\r\n            />\r\n          </button>\r\n        </div>\r\n        <button @click=\"goto\">登录</button>\r\n        <button class=\"active\" @click=\"onSubmit\">注册</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref, toRefs } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport { Toast } from \"vant\";\r\nimport { throttle } from \"../utils/utils\";\r\nexport default {\r\n  setup() {\r\n    const state = reactive({\r\n      msg: \"发送验证码\",\r\n      passwordType: true,\r\n      msgVerify: \"\",\r\n      time: 60 * 1000,\r\n    });\r\n    const countDown = ref(null);\r\n    const router = useRouter();\r\n    const username = ref(null);\r\n    const password = ref(null);\r\n    const verify = ref(null);\r\n    const nickname = ref(null);\r\n\r\n    const onSwitch = () => {\r\n      state.passwordType = !state.passwordType;\r\n    };\r\n    const onSubmit = () => {\r\n      axios({\r\n        url: `/api/register/cellphone?phone=${username.value}&password=${password.value}&captcha=${verify.value}&nickname=${nickname.value}`,\r\n        withCredentials: true, //关键\r\n      }).then((res) => {\r\n        if (res.data.code == 200) {\r\n          Toast(\"注册成功\");\r\n          setTimeout(() => {\r\n            router.push({ path: \"/login\" });\r\n          }, 1000);\r\n        } else if (res.data.code == 503) {\r\n          Toast(\"验证码错误\");\r\n          return;\r\n        } else {\r\n          Toast(\"手机号不符合规范\");\r\n          return;\r\n        }\r\n        console.log(res);\r\n      });\r\n    };\r\n    const func = () => {\r\n      axios({\r\n        url: `/api//captcha/sent?phone=${username.value}`,\r\n        withCredentials: true, //关键\r\n      }).then((res) => {\r\n        console.log(res);\r\n      });\r\n    };\r\n    const sendMsg = () => {\r\n      if (!username.value) {\r\n        Toast.fail(\"请输入正确的手机号\");\r\n        return;\r\n      }\r\n      state.msg = \"\";\r\n      countDown.value.start();\r\n      throttle(func, 1000)();\r\n    };\r\n    const onFinish = () => {\r\n      state.msg = \"发送验证码\";\r\n      countDown.value.reset();\r\n    };\r\n    const goto = () => {\r\n      router.push({ path: \"/login\" });\r\n    };\r\n    return {\r\n      goto,\r\n      username,\r\n      password,\r\n      verify,\r\n      onSubmit,\r\n      onSwitch,\r\n      sendMsg,\r\n      ...toRefs(state),\r\n      onFinish,\r\n      func,\r\n      countDown,\r\n      nickname,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.Login {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  .left,\r\n  .right {\r\n    width: 50%;\r\n    background-color: #e7ecf0;\r\n    padding: 50px;\r\n  }\r\n  .left img {\r\n    width: 100%;\r\n    height: 350px;\r\n  }\r\n  .right {\r\n    .input-wrapper {\r\n      background-color: #fff;\r\n      height: 350px;\r\n      border-radius: 10px;\r\n      padding: 20px;\r\n      box-sizing: border-box;\r\n      position: relative;\r\n      .notice-bar {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        .notice-swipe {\r\n          height: 40px;\r\n          line-height: 40px;\r\n        }\r\n      }\r\n      .title {\r\n        font-size: 20px;\r\n        font-weight: bold;\r\n        text-align: center;\r\n      }\r\n      input {\r\n        display: block;\r\n        width: 80%;\r\n        height: 30px;\r\n        margin: 10px auto;\r\n        border: 1px solid #e8e8e8;\r\n        border-radius: 10px;\r\n      }\r\n      .verify {\r\n        display: flex;\r\n        width: 82%;\r\n        margin: -11px auto;\r\n        input {\r\n          width: 50%;\r\n        }\r\n        button {\r\n          height: 30px;\r\n        }\r\n      }\r\n      button {\r\n        background-color: #fff;\r\n        display: inline-block;\r\n        width: 36%;\r\n        height: 50px;\r\n        margin: 10px auto;\r\n        margin-left: 45px;\r\n        border: 1px solid #e8e8e8;\r\n        text-align: center;\r\n        border-radius: 10px;\r\n      }\r\n      .active {\r\n        background-color: #47a0fc;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./Register.vue?vue&type=template&id=cb51cb1e&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=cb51cb1e&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\lesson-yy\\\\VUE3\\\\qq-Music\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cb51cb1e\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Register.vue?vue&type=style&index=0&id=cb51cb1e&lang=less&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\nvar TypeError = global.TypeError;\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = lengthOfArrayLike(E);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","module.exports = __webpack_public_path__ + \"img/loginBg.c4e4e025.png\";","export const getLocal = (name) => {\r\n  return localStorage.getItem(name)\r\n}\r\n\r\nexport const setLocal = (name, value) => {\r\n  localStorage.setItem(name, value)\r\n}\r\n\r\nexport const throttle = (func, wait)=> {\r\n  var previous = 0;\r\n  console.log('节流开始');\r\n  return function () {\r\n      var now = Date.now();\r\n      var context = this;\r\n      var args = arguments;\r\n      if (now - previous > wait) {\r\n          func.apply(context, args);\r\n          previous = now;\r\n      }\r\n  }\r\n}\r\n\r\n"],"sourceRoot":""}